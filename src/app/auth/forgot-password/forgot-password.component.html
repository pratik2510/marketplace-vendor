<div class="auth-wrapper">
    <div>
        <nb-card>
            <nb-card-body>
                <div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="brand-wrapper">
                                <div class="brand-wrapper">
                                    <img src="assets/images/my-login-page-icon.png" class="text-center w-100 m-0" />
                                  </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="auth-content">
                                <h2 id="title" class="title text-center mb-4">RECOVER PASSWORD</h2>
                                <p class="sub-title">
                                    Please enter your user name and we'll send you instructions on your register email
                                    id to reset your password.
                                </p>
                                <form aria-labelledby="title" [formGroup]="forgotPasswordForm"
                                    (ngSubmit)="forgotPassword(forgotPasswordForm.valid)">

                                    <div class="form-control-group mb-4">
                                        <label class="label label_color" for="userName"> User Name : </label>
                                        <input nbInput fullWidth fieldSize="large" autofocus id="username"
                                            placeholder="Enter userName" formControlName="username"
                                            (input)="onChangeInput($event)" class="dark-bg"
                                            [status]="(submitted && f.username.errors && f.username.errors.required) ? 'danger' : null ">
                                        <div *ngIf="submitted && f.username.errors">
                                            <div *ngIf="f.username.errors.required" class="caption status-danger mt-1">
                                                User name is required
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-control-group mb-4">
                                        <ngx-recaptcha2 [siteKey]="siteKey" (expire)="handleExpire()" 
                                            (success)="handleSuccess($event)" [useGlobalDomain]="false" [size]="size"
                                           [theme]="theme" [type]="type" formControlName="recaptcha">
                                        </ngx-recaptcha2>
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-6">
                                            <button nbButton type="submit" fullWidth  size="large"
                                             status="primary">
                                                Submit
                                                <i class="fa fa-spinner fa-spin mr-2 ml-2" aria-hidden="true"
                                                    *ngIf="isLoading"></i>
                                            </button>
                                        </div>
                                        <div class="col-sm-6">
                                            <button  type="button" fullWidth size="large"
                                            nbButton status="success"
                                                class="mt-3 mt-sm-0" [routerLink]="['/auth','login']">
                                                Back to login
                                            </button>
                                        </div>
                                    </div>
                                    <div *ngIf="submitted">
                                        <div *ngIf="apiError" class="caption status-danger mt-1">
                                            {{apiError}}
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </nb-card-body>
        </nb-card>
    </div>
</div>